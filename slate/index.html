<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Documentation Navitia.io</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://navitia.io/register/'>Get an access</a></li>
            <li><a href='http://navitia.io'>Navitia.io</a></li>
            <li><a href='http://github.com/CanalTP/navitia/blob/dev/documentation/navitia.io/source/integration.rst'>Navitia on Github</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="overview">Overview</h1>

<p>This document describes how to call navitia via the v1 interface, and the returned resources.
You can read our lexicon at <a href="https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md">https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md</a></p>

<h2 id="endpoint">Endpoint</h2>

<p>The only endpoint of this version of the api is : [https://api.navitia.io/v1/]</p>

<p>See <a href="#authentication">authentication</a> to find out <strong>how to use your token</strong>.</p>

<p>If you use a web browser, you only have to paste it in the user area, with no password.
Or, in a simplier way, you can add your token in the address bar like :
<a href="https://*my-token-is-mine-and-i-will-never-clearly-give-it*@api.navitia.io/v1/coverage/fr-idf/networks">https://<em>my-token-is-mine-and-i-will-never-clearly-give-it</em>@api.navitia.io/v1/coverage/fr-idf/networks</a></p>

<h2 id="some-easy-examples">Some easy examples</h2>

<ul>
<li>Geographical coverage of the service &gt; <a href="https://api.navitia.io/v1/coverage">https://api.navitia.io/v1/coverage</a></li>
<li>Where am I? (WGS 84 coordinates)</li>
</ul>
<pre class="highlight shell"><code>  curl <span class="s2">"https://api.navitia.io/v1/coverage"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_production_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20150812"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shape"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTIPOLYGON(((-73.67898 40.40823,-74.35528 38.91679,-74.98257 38.77274,-74.9897 38.77609,-75.26353 39.17828,-75.55589 39.4284,-75.57847 39.48183,-75.54245 39.56827,-75.58291 39.63288,-75.5274 39.67216,-75.46674 39.77555,-75.4192 39.79948,-75.42233 39.80093,-75.41531 39.80156,-75.41537 39.80272,-75.39101 39.81585,-75.35486 39.84045,-75.34198 39.84673,-75.32335 39.8505,-75.27135 39.85013,-75.24368 39.85527,-75.22147 39.86171,-75.18897 39.8815,-75.14408 39.88563,-75.13784 39.89042,-75.13198 39.89948,-75.12923 39.90922,-75.12896 39.91304,-75.13808 39.93153,-75.13593 39.95078,-75.13111 39.95908,-75.11728 39.96748,-75.07164 39.98109,-75.06517 39.98755,-75.05039 40.01017,-75.01981 40.01912,-74.97586 40.04865,-74.93943 40.06759,-74.92419 40.07193,-74.90521 40.07352,-74.86216 40.08404,-74.85503 40.09383,-74.84252 40.09913,-74.83642 40.1039,-74.83001 40.11954,-74.82286 40.12746,-74.81535 40.12838,-74.79926 40.12338,-74.78432 40.12116,-74.75994 40.13447,-74.74149 40.1358,-74.72499 40.14687,-74.72247 40.15782,-74.7376 40.17702,-74.75483 40.18475,-74.7612 40.19853,-74.77121 40.21441,-74.7956 40.22877,-74.81975 40.23785,-74.83655 40.24555,-74.84272 40.24994,-74.8611 40.28423,-74.86872 40.29472,-74.89192 40.31238,-74.90867 40.31631,-74.94023 40.33754,-74.94518 40.34484,-74.94955 40.36478,-74.967 40.39761,-74.9834 40.40395,-74.98871 40.40786,-74.99591 40.40969,-75.02293 40.403,-75.02878 40.40329,-75.03476 40.40545,-75.04586 40.41306,-75.05911 40.41774,-75.0625 40.42388,-75.06663 40.44512,-75.07137 40.45671,-75.06771 40.46545,-75.06839 40.47386,-75.06337 40.48052,-75.0658 40.52632,-75.06873 40.54117,-75.07848 40.54733,-75.10018 40.56679,-75.11574 40.57219,-75.14002 40.57468,-75.14807 40.57141,-75.15876 40.5642,-75.17048 40.56347,-75.18519 40.56767,-75.19619 40.57851,-75.19467 40.58331,-75.19032 40.58798,-75.19008 40.59085,-75.19295 40.60236,-75.20194 40.61426,-75.2025 40.61732,-75.19812 40.61999,-75.19106 40.62059,-75.18929 40.62465,-75.19288 40.64043,-75.20096 40.6464,-75.20114 40.64935,-75.19138 40.66239,-75.1832 40.66654,-75.17753 40.67566,-75.18079 40.67869,-75.19065 40.67868,-75.19723 40.68067,-75.20149 40.6851,-75.20462 40.69158,-75.19505 40.71433,-75.18781 40.71951,-75.18671 40.72525,-75.18281 40.7315,-75.18628 40.73677,-75.19595 40.74512,-75.1971 40.75205,-75.19216 40.75643,-75.17954 40.76241,-75.17625 40.77323,-75.17182 40.7784,-75.16364 40.77909,-75.15182 40.77583,-75.13452 40.77446,-75.12347 40.78733,-75.10877 40.79115,-75.10122 40.79951,-75.10062 40.80731,-75.09886 40.81044,-75.09059 40.81569,-75.08364 40.82589,-75.08569 40.82966,-75.09717 40.83888,-75.09759 40.8445,-75.09578 40.84737,-75.09108 40.8496,-75.07673 40.85057,-75.07213 40.84775,-75.06469 40.84842,-75.06175 40.85675,-75.05192 40.86468,-75.05121 40.86779,-75.05259 40.8717,-75.07557 40.89393,-75.07522 40.89994,-75.07722 40.90964,-75.07965 40.91376,-75.09606 40.92369,-75.10613 40.93595,-75.11221 40.94763,-75.11837 40.95268,-75.12103 40.96789,-75.1228 40.9694,-75.13146 40.96858,-75.13438 40.97061,-75.13621 40.97701,-75.13277 40.98278,-75.13113 40.99152,-75.11014 41.00429,-75.09987 41.00824,-75.09009 41.01518,-75.06553 41.02212,-75.04104 41.03236,-75.02707 41.0444,-75.01971 41.05343,-75.01312 41.06672,-75.00666 41.06824,-74.99518 41.07717,-74.9924 41.09242,-74.98025 41.11101,-74.9484 41.12409,-74.9483 41.12667,-74.94538 41.12968,-74.9236 41.13871,-74.90243 41.16166,-74.90182 41.16414,-74.87889 41.19082,-74.861 41.21782,-74.86132 41.22181,-74.8681 41.22782,-74.86681 41.23244,-74.85775 41.24934,-74.84719 41.26142,-74.83893 41.2777,-74.83058 41.28767,-74.82223 41.29445,-74.79304 41.3138,-74.7965 41.31835,-74.79544 41.32098,-74.79241 41.3231,-74.76716 41.3291,-74.7641 41.33196,-74.76092 41.34069,-74.75351 41.34677,-74.72112 41.34806,-74.69624 41.35807,-74.69139 41.36237,-74.6925 41.36625,-74.70971 41.37776,-74.71698 41.39116,-74.73449 41.3955,-74.74241 41.40423,-74.74268 41.41199,-74.79056 41.41997,-74.79671 41.4229,-74.8375 41.43003,-74.89413 41.43724,-74.90792 41.45978,-74.91339 41.47409,-74.95795 41.47472,-74.98442 41.47958,-74.98729 41.48573,-75.02641 41.53469,-75.04174 41.56854,-75.07627 41.60533,-75.07609 41.60877,-75.06077 41.61904,-75.05035 41.63365,-75.05151 41.66186,-75.06102 41.6721,-75.07052 41.70797,-75.0565 41.7349,-75.10122 41.76744,-75.10634 41.77415,-75.10265 41.78915,-75.11682 41.82697,-75.15279 41.84687,-75.16248 41.84842,-75.17027 41.85854,-75.22345 41.85578,-75.26141 41.86235,-75.27285 41.88668,-75.28044 41.93762,-75.30121 41.94674,-75.31109 41.94748,-75.31946 41.95313,-75.32144 41.95956,-75.33021 41.96673,-75.34324 41.97152,-75.33934 41.98631,-75.34715 41.99372,-75.35989 41.99775,-76.34372 41.99665,-76.83508 42.00007,-77.83203 41.99682,-78.12473 41.99875,-78.87475 41.99586,-79.76227 41.99717,-79.76341 42.51535,-79.76506 42.58461,-78.96358 42.85492,-78.91168 42.9007,-78.90971 42.91847,-78.91692 42.93863,-78.93397 42.95207,-78.95954 42.95303,-78.99561 42.97607,-79.02249 42.98854,-79.0284 43.01012,-79.02512 43.0245,-79.01266 43.0408,-79.02381 43.06572,-79.07725 43.07621,-79.07806 43.0817,-79.06436 43.09681,-79.05952 43.11014,-79.06302 43.11543,-79.07295 43.12112,-79.0555 43.13014,-79.04556 43.14151,-79.0469 43.15326,-79.05496 43.17364,-79.05147 43.20008,-79.05872 43.20908,-79.05523 43.22318,-79.05926 43.23805,-79.05791 43.25174,-79.07537 43.26426,-79.21691 43.45496,-78.6726 43.65219,-76.84807 43.69868,-76.45111 44.11666,-76.32897 44.2207,-75.85568 44.43367,-75.7763 44.52444,-75.65436 44.61354,-75.5074 44.72695,-75.33855 44.84013,-75.09466 44.95088,-74.92269 45.01281,-74.78511 45.0327,-74.74134 45.00175,-74.70615 45.00607,-74.49098 45.00335,-73.90313 45.00607,-73.34192 45.01707,-73.34161 45.01006,-73.35027 44.98789,-73.33659 44.96516,-73.33733 44.91725,-73.3566 44.90049,-73.3745 44.84451,-73.32068 44.79913,-73.35302 44.75426,-73.36331 44.66979,-73.35931 44.58785,-73.30236 44.50273,-73.29192 44.44042,-73.31064 44.28039,-73.31017 44.25112,-73.36073 44.20743,-73.38899 44.18992,-73.388 44.18089,-73.41738 44.08594,-73.43595 44.04504,-73.40978 44.02832,-73.40613 44.02186,-73.40431 44.01114,-73.41091 43.98023,-73.40513 43.96744,-73.40383 43.94893,-73.40684 43.933,-73.3945 43.90407,-73.37151 43.87819,-73.3803 43.85526,-73.37063 43.84482,-73.37563 43.83796,-73.3871 43.83125,-73.39088 43.82142,-73.37934 43.81182,-73.37503 43.79993,-73.3562 43.78697,-73.3489 43.77181,-73.36818 43.7435,-73.36918 43.72441,-73.38461 43.71019,-73.39416 43.69581,-73.40246 43.68102,-73.41394 43.6518,-73.42494 43.6418,-73.4264 43.63528,-73.41599 43.62144,-73.37293 43.62584,-73.30584 43.62967,-73.30107 43.62654,-73.29874 43.61207,-73.29056 43.60285,-73.29119 43.59332,-73.29439 43.58798,-73.28419 43.58081,-73.26876 43.57356,-73.25764 43.56633,-73.24719 43.55474,-73.23995 43.53544,-73.24043 43.52855,-73.24599 43.52291,-73.25479 43.25919,-73.27697 42.83333,-73.2838 42.83305,-73.28531 42.82046,-73.2821 42.81347,-73.28909 42.80155,-73.27495 42.74733,-73.26568 42.74502,-73.50635 42.08621,-73.49562 42.05137,-73.48563 42.0499,-73.48792 42.00001,-73.54915 41.29592,-73.4811 41.2122,-73.72497 41.10007,-73.65324 41.01261,-73.65845 41.00048,-73.65437 40.97903,-73.41134 40.98698,-72.08541 41.24737,-70.6222 40.50414,-70.7503 40.36936,-71.94403 40.03666,-73.67898 40.40823)))"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_production_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160730"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_load_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20150909T144557"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"us-ny"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>

<p>* <a href="https://api.navitia.io/v1/coord/2.377310;48.847002">https://api.navitia.io/v1/coord/2.377310;48.847002</a>
    * I&rsquo;m on the &ldquo;/fr-idf&rdquo; coverage, at &ldquo;20, rue Hector Malot in Paris, France&rdquo;</p>

<ul>
<li><p>Which services are available on this coverage? Let&rsquo;s take a look at the links at the bottom of this stream</p>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf">https://api.navitia.io/v1/coverage/fr-idf</a></li>
</ul></li>
<li><p>Networks available? (see what network_ is)</p>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
</ul></li>
<li><p>RATP network lines? &gt; <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/lines">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/lines</a></p></li>
<li><p>Too much lines, let&rsquo;s use physical mode filtering</p>

<ul>
<li>physical modes managed by RATP </li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/physical_modes</a></li>
<li>metro lines </li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RTP/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
<li><p>By the way, what stuff are close to me?</p>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules</a></li>
<li>or &hellip;</li>
</ul></li>
</ul>

<h2 id="resources">Resources</h2>

<p>All the resources return a response containing a links object, a paging object, and the requested object.</p>

<ul>
<li><p><strong>Coverage</strong> : List of the region covered by navitia</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage</td>
<td>List of the areas covered by navitia</td>
</tr>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>region_id</em></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>region_id</em>/coords/<em>lon;lat</em></td>
<td>Information about a specific region</td>
</tr>
</tbody></table></li>
<li><p><strong>Public transportation objects</strong> : List of the public transport objects of a region</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>region_id</em>/<em>collection_name</em></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code class="prettyprint">get</code>` /coverage/<em>region_id</em>/<em>collection_name</em>/<em>object_id</em></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code class="prettyprint">get</code>` /coverage/<em>lon;lat</em>/<em>collection_name</em></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code class="prettyprint">get</code>` /coverage/<em>lon;lat</em>/<em>collection_name</em>/<em>object_id</em></td>
<td>Information about a specific region</td>
</tr>
</tbody></table></li>
<li><p><strong>Journeys</strong> : Compute journeys</p></li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code>` /coverage/<em>resource_path</em>/journeys</td>
<td>List of journeys</td>
</tr>
<tr>
<td><code class="prettyprint">get</code>` /journeys</td>
<td>List of journeys</td>
</tr>
</tbody></table>

<ul>
<li><strong>Route Schedules</strong> : Compute route schedules for a given resource</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code>` /coverage/<em>resource_path</em>/route_schedules</td>
<td>List of the route schedules</td>
</tr>
</tbody></table>

<ul>
<li><strong>Stop Schedules</strong> : Compute stop schedules for a given resource</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>resource_path</em>/stop_schedules</td>
<td>List of the stop schedules</td>
</tr>
</tbody></table>

<ul>
<li><strong>Departures</strong> : List of the next departures for a given resource</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>resource_path</em>/departures</td>
<td>List of the departures</td>
</tr>
</tbody></table>

<ul>
<li><strong>Arrivals</strong> : List of the next departures for a given resource</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>resource_path</em>/arrivals</td>
<td>List of the arrivals</td>
</tr>
</tbody></table>

<ul>
<li><strong>Places</strong> : Search in the datas</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/places</td>
<td>List of objects</td>
</tr>
</tbody></table>

<ul>
<li><strong>Places nearby</strong> : List of objects near an object or a coord</li>
</ul>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>resource_path</em>/places_nearby</td>
<td>List of objects near the resource</td>
</tr>
<tr>
<td><code class="prettyprint">get</code> /coverage/<em>lon;lat</em>/places_nearby</td>
<td>List of objects near the resource</td>
</tr>
</tbody></table>

<h1 id="authentication">Authentication</h1>

<p>You must authenticate to use <strong>navitia.io</strong>. When you register we give you a authentication key to the API.</p>

<p>You must use the <a href="http://tools.ietf.org/html/rfc2617#section-2">Basic HTTP authentication</a>, where the username is the key, and without password.</p>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajaxSetup</span><span class="p">({</span>
  <span class="na">beforeSend</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span> <span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">"Authorization"</span><span class="p">,</span> <span class="s2">"Basic "</span> <span class="o">+</span> <span class="nx">btoa</span><span class="p">(</span><span class="s2">"Your-token-here"</span> <span class="o">+</span> <span class="s2">":"</span><span class="p">));}</span>
<span class="p">});</span>

<span class="p">});</span>

</code></pre>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
</code></pre>

<blockquote>
<p>Make sure to replace &ldquo;Your-token-here&rdquo; with your API key.</p>
</blockquote>

<aside class="notice">
You must replace <code>Your-token-here</code> with your personal API key.
</aside>

<h1 id="apis">APIS</h1>

<h2 id="journeys-journeys">Journeys (/journeys)</h2>

<p>This api computes journeys.</p>

<p>If used within the coverage api, it will retrieve the next journeys from 
the selected public transport object or coordinates.</p>

<p>There are two ways to access this api.</p>

<p>The first one is: <a href="https://api.navitia.io/v1/{a_path_to_resource}/journeys">https://api.navitia.io/v1/{a_path_to_resource}/journeys</a> it will retrieve 
all the journeys from the resource (<em>isochrones</em>).</p>

<p>The other one, the most used, is to access the &lsquo;journey&rsquo; api endpoint: <a href="https://api.navitia.io/v1/journeys?from={resource_id_1}&amp;to={resource_id_2}&amp;datetime={datetime}">https://api.navitia.io/v1/journeys?from={resource_id_1}&amp;to={resource_id_2}&amp;datetime={datetime}</a> .</p>

<aside class="notice">
<div style="font-style: italic;"> Note </div>                                                                                                                                                     
                                                                                                                                                           
Navitia.io handle lot&rsquo;s of different data sets (regions). Some of them can overlap. For example opendata data sets can overlap with private data sets. <br/> <br/>     
                                                                                                                                                            
When using the journeys endpoint the data set used to compute the journey is chosen using the possible datasets of the origin and the destination. <br/> <br/>        
                                                                                                                                                            
For the moment it is not yet possible to compute journeys on different data sets, but it will one day be possible (with a cross-data-set system). <br/><br/>          
                                                                                                                                                            
If you want to use a specific data set, use the journey api within the data set: <br/> <a href="https://api.navitia.io/v1/coverage/{your_dataset}/journeys">https://api.navitia.io/v1/coverage/{your_dataset}/journeys</a> </aside>



<aside class="notice">
<div style="font-style: italic"> Note </div>
Neither the 'from&rsquo; nor the 'to&rsquo; parameter of the journey are required, but obviously one of them has to be provided. <br/><br/>
If only one is defined an isochrone is computed with every possible journeys from or to the point. <br/><br/>
</aside>

<h2 id="main-parameters">Main Parameters</h2>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>datetime</td>
<td>datetime</td>
<td>A datetime</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>datetime_represents</td>
<td>string</td>
<td>Can be <code class="prettyprint">departure</code> or <code class="prettyprint">arrival</code>. If <code class="prettyprint">departure</code>, the request will retrieve journeys starting after datetime. If <code class="prettyprint">arrival</code> it will retrieve journeys arriving before datetime.</td>
<td>departure</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes,</td>
<td></td>
</tr>
</tbody></table>

<h2 id="other-parameters">Other parameters</h2>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of</td>
<td>Force the first section mode if the first section is not a public transport one. It takes one the following values: <code class="prettyprint">walking</code>, <code class="prettyprint">car</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">bss</code> bss stands for bike sharing system It&rsquo;s an array, you can give multiple modes Note: choosing <code class="prettyprint">bss</code> implicitly allows  the <code class="prettyprint">walking</code> mode since you might have to walk to the bss station</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>max_duration_to_pt</td>
<td>int</td>
<td>Maximum allowed duration to reach the</td>
<td>15*60 s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>public transport</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Use this to limit the walking/biking part</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Unit is seconds</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>walking_speed</td>
<td>float</td>
<td>Walking speed for the fallback sections</td>
<td>1.12 m/s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Speed unit must be in meter/seconds</td>
<td>(4 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>bike_speed</td>
<td>float</td>
<td>Biking speed for the fallback sections</td>
<td>4.1 m/s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Speed unit must be in meter/seconds</td>
<td>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>bss_speed</td>
<td>float</td>
<td>Speed while using a bike from a bike</td>
<td>4.1 m/s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>sharing system for the fallback sections</td>
<td>(14.7 km/h)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Speed unit must be in meter/seconds</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>car_speed</td>
<td>float</td>
<td>Driving speed for the fallback sections</td>
<td>16.8 m/s</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>Speed unit must be in meter/seconds</td>
<td>(60 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_journeys</td>
<td>int</td>
<td>Minimum number of different suggested</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>trips</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>More in <code class="prettyprint">multiple_journeys</code>_</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_journeys</td>
<td>int</td>
<td>Maximum number of different suggested</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>trips</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>More in <code class="prettyprint">multiple_journeys</code>_</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Fixed number of different journeys</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>More in <code class="prettyprint">multiple_journeys</code>_</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_tranfers</td>
<td>int</td>
<td>Maximum of number transfers</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>disruption_active</td>
<td>boolean</td>
<td>If true the algorithm take the disruptions</td>
<td>False</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>into account, and thus avoid disrupted</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>public transport</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>wheelchair</td>
<td>boolean</td>
<td>If true the traveler is considered to</td>
<td>False</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>be using a wheelchair, thus only</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>accessible public transport are used</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>be warned: many data are currently too</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>faint to provide acceptable answers</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>with this parameter on</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>show_codes</td>
<td>boolean</td>
<td>If true add internal id in the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>debug</td>
<td>boolean</td>
<td>Debug mode</td>
<td>False</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>No journeys are filtered in this mode</td>
<td></td>
</tr>
</tbody></table>

<h2 id="objects">Objects</h2>

<p>Here is a typical journey, all sections are detailed below</p>

<p><img style="max-width:100%;" src="typical_itinerary.png" alt="typical_itinerary.png"></p>

<h3 id="main-response-object">Main response object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>journeys</td>
<td>array of journeys_</td>
<td>List of computed journeys</td>
</tr>
<tr>
<td>links</td>
<td>link_</td>
<td>Links related to the journeys</td>
</tr>
</tbody></table>

<h3 id="journey-object">Journey object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of the journey</td>
</tr>
<tr>
<td>nb_transfers</td>
<td>int</td>
<td>Number of transfers in the journey</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><code class="prettyprint">date-time</code>_</td>
<td>Departure date and time of the journey</td>
</tr>
<tr>
<td>requested_date_time</td>
<td><code class="prettyprint">date-time</code>_</td>
<td>Requested date and time of the journey</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><code class="prettyprint">date-time</code>_</td>
<td>Arrival date and time of the journey</td>
</tr>
<tr>
<td>sections</td>
<td>array of <code class="prettyprint">section</code>_</td>
<td>All the sections of the journey</td>
</tr>
<tr>
<td>from</td>
<td>places_</td>
<td>The place from where the journey starts</td>
</tr>
<tr>
<td>to</td>
<td>places_</td>
<td>The place from where the journey ends</td>
</tr>
<tr>
<td>links</td>
<td><code class="prettyprint">link</code>_</td>
<td>Links related to this journey</td>
</tr>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Used to qualify a journey.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>See the <code class="prettyprint">journey-qualif</code>_ section for more information</td>
</tr>
<tr>
<td>fare</td>
<td>fare_</td>
<td>Fare of the journey (tickets and price)</td>
</tr>
<tr>
<td>tags</td>
<td>array of string</td>
<td>List of tags on the journey. The tags add additional</td>
</tr>
<tr>
<td></td>
<td></td>
<td>information on the journey beside the journey type.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>See for example <code class="prettyprint">multiple_journeys</code>_.</td>
</tr>
</tbody></table>

<aside class="notice">
<div style="font-style: italic"> Note </div>
 When used with just a &ldquo;from&rdquo; or a &ldquo;to&rdquo; parameter, it will not contain any sections <br/><br/>
</aside>

<h3 id="section-object">Section object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Type of the section, it can be:</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">public_transport</code>: public transport section</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">street_network</code>: street section</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">waiting</code>: waiting section between transport</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">stay_in</code>: this &ldquo;stay in the vehicle&rdquo; section</td>
</tr>
<tr>
<td></td>
<td></td>
<td>occurs when the traveller has to stay in the</td>
</tr>
<tr>
<td></td>
<td></td>
<td>vehicle when the bus change its routing.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Here is an exemple for a journey from A to B:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>(lollipop line)</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><img alt="Caption text" src="stay_in.png" /></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">transfer</code>: transfert section</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">crow_fly</code>: teleportation section.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Used when starting or arriving to a city or a</td>
</tr>
<tr>
<td></td>
<td></td>
<td>stoparea (&ldquo;potato shaped&rdquo; objects)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Useful to make navitia idempotent.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>Be careful: no &ldquo;path&rdquo; nor &ldquo;geojson&rdquo; items in</td>
</tr>
<tr>
<td></td>
<td></td>
<td>this case</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><img alt="Caption text" src="crow_fly.png" /></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">on_demand_transport</code>: vehicle may not drive</td>
</tr>
<tr>
<td></td>
<td></td>
<td>along: traveler will have to call agency to</td>
</tr>
<tr>
<td></td>
<td></td>
<td>confirm journey</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">bss_rent</code>: taking a bike from a bike sharing</td>
</tr>
<tr>
<td></td>
<td></td>
<td>system (bss)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">bss_put_back</code>: putting back a bike from a bike</td>
</tr>
<tr>
<td></td>
<td></td>
<td>sharing system (bss)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">boarding</code>: boarding on plane</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">landing</code>: landing off the plane</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the section</td>
</tr>
<tr>
<td>mode</td>
<td><em>enum</em> string</td>
<td>Mode of the street network:</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code class="prettyprint">Walking</code>, <code class="prettyprint">Bike</code>, <code class="prettyprint">Car</code></td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of this section</td>
</tr>
<tr>
<td>from</td>
<td>places_</td>
<td>Origin place of this section</td>
</tr>
<tr>
<td>to</td>
<td>places_</td>
<td>Destination place of this section</td>
</tr>
<tr>
<td>links</td>
<td>Array of link_</td>
<td>Links related to this section</td>
</tr>
<tr>
<td>display_informations</td>
<td>display_informations_</td>
<td>Useful information to display</td>
</tr>
<tr>
<td>additionnal_informations</td>
<td><em>enum</em> string</td>
<td>Other information. It can be:</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">regular</code>: no on demand transport (odt)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">has_date_time_estimated</code>: section with at</td>
</tr>
<tr>
<td></td>
<td></td>
<td>least one estimated date time</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">odt_with_stop_time</code>: odt with</td>
</tr>
<tr>
<td></td>
<td></td>
<td>fixed schedule, but travelers have to call</td>
</tr>
<tr>
<td></td>
<td></td>
<td>agency!</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">odt_with_stop_point</code>: odt where pickup or</td>
</tr>
<tr>
<td></td>
<td></td>
<td>drop off are specific points</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* <code class="prettyprint">odt_with_zone</code>: odt which is like a cab,</td>
</tr>
<tr>
<td></td>
<td></td>
<td>from wherever you want to wherever you want,</td>
</tr>
<tr>
<td></td>
<td></td>
<td>whenever it is possible</td>
</tr>
<tr>
<td>geojson</td>
<td><code class="prettyprint">GeoJson &lt;http://www.geojson.org&gt;</code>_</td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>Array of path_</td>
<td>The path of this section</td>
</tr>
<tr>
<td>transfer_type</td>
<td><em>enum</em> string</td>
<td>The type of this transfer it can be: <code class="prettyprint">walking</code>,</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code class="prettyprint">guaranteed</code>, <code class="prettyprint">extension</code></td>
</tr>
<tr>
<td>stop_date_times</td>
<td>Array of stop_date_time_</td>
<td>List of the stop times of this section</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><code class="prettyprint">date-time</code>_</td>
<td>Date and time of departure</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><code class="prettyprint">date-time</code>_</td>
<td>Date and time of arrival</td>
</tr>
</tbody></table>

<h3 id="path-object">Path object</h3>

<p>A path object in composed of an array of path_item_ (segment).</p>

<h3 id="path-item-object">Path item object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>length</td>
<td>int</td>
<td>Length (in meter) of the segment</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the way corresponding to the segment</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>duration (in seconds) of the segment</td>
</tr>
<tr>
<td>direction</td>
<td>int</td>
<td>Angle (in degree) between the previous segment and</td>
</tr>
<tr>
<td></td>
<td></td>
<td>this segment.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>* 0 means going straight</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* &gt; 0 means turning right</td>
</tr>
<tr>
<td></td>
<td></td>
<td>* &lt; 0 means turning left</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>Hope it&rsquo;s easier to understand with a picture:</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>.. image:: direction.png</td>
</tr>
<tr>
<td></td>
<td></td>
<td>:scale: 50 %</td>
</tr>
</tbody></table>

<h3 id="fare-object">Fare object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td>cost_</td>
<td>total cost of the journey</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if no fare has been found for the journey, True otherwise</td>
</tr>
<tr>
<td>links</td>
<td>link_</td>
<td>Links related to this object. Link with related <code class="prettyprint">tickets &lt;ticket&gt;</code>_</td>
</tr>
</tbody></table>

<h3 id="cost-object">Cost object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>float</td>
<td>cost</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency</td>
</tr>
</tbody></table>

<h3 id="ticket-object">Ticket object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the ticket</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the ticket</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if unknown ticket, True otherwise</td>
</tr>
<tr>
<td>cost</td>
<td><a href="#cost">cost</a></td>
<td>Cost of the ticket</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Link to the <a href="#section">section</a> using this ticket</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
